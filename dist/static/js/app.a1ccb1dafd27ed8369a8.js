webpackJsonp([1],{"+6Oc":function(t,e,a){"use strict";var o={name:"hello",data:function(){return{visible:!1,ret:0,obj:null,speed:0,times:0,time:0,style:{position:"fixed",right:"30px",bottom:"20px",cursor:"pointer"},x:0,y:0,translateY:0,angle:0}},props:{defaultProps:{type:Number,default:400},date:{type:Number,default:500},color:{type:String,default:"#6495ED"}},mounted:function(){this.darw("#AAD7FF"),window.addEventListener("scroll",this.hanScroll)},methods:{canvas:function(t,e){t.save(),t.translate(this.x,this.translateY),t.lineWidth=1,t.fillStyle=e,t.strokeStyle=e,t.beginPath(),t.moveTo(this.x-this.x,-(this.y-15)),t.lineTo(-this.x,this.y),t.lineTo(this.x,this.y),t.closePath(),t.fill(),t.stroke(),t.restore()},darw:function(){var t=this,e=document.getElementById("canvas"),a=e.getContext("2d");this.x=e.width/2,this.y=e.height/2,window.requestAnimationFrame(function(){a.clearRect(0,0,e.width,e.height),t.darw(),t.translateY=e.height/2+9*Math.sin(t.angle),t.angle+=.1,t.canvas(a,t.color)})},hanScroll:function(){var t=this.getScroll(window);this.visible=t>this.defaultProps},getScroll:function(t){this.ret=t.pageYOffset;if("number"!=typeof this.ret){var e=t.document;this.ret=e.documentElemelnt.scrollTop,"number"!=typeof this.ret&&(this.ret=e.body.scrollTop)}return this.ret},backTop:function(){var t=this.date/30;this.time=0,this.times=t,this.speed=this.ret/t,this.obj=setInterval(this.setScroll,30)},setScroll:function(){this.time>this.times||this.ret<=0?clearInterval(this.obj):(this.time++,this.ret-=this.speed,document.documentElement.scrollTop=document.body.scrollTop=this.ret)}}},i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"backtop",style:this.style,on:{click:this.backTop}},[e("canvas",{staticStyle:{padding:"1.5rem"},attrs:{id:"canvas",width:"55",height:"55"}})])},staticRenderFns:[]},n=a("VU/8")(o,i,!1,null,null,null);e.a=n.exports},"3GpE":function(t,e){},"51DT":function(t,e){},Cyhh:function(t,e){},Ett0:function(t,e){},ItLs:function(t,e){},J5zU:function(t,e){},JVN8:function(t,e){},LEv0:function(t,e){},MrK1:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("mvHQ"),i=a.n(o),n=a("woOf"),s=a.n(n),r=a("//Fk"),l=a.n(r),c=a("7+uW"),u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var h=a("VU/8")({name:"App"},u,!1,function(t){a("bR3e")},null,null).exports,d=a("/ocq"),f=a("BO1k"),p=a.n(f),v=a("mtWM"),m=a.n(v);m.a.defaults.headers.post["Content-Type"]="application/json";var k=function(t){return m.a.get("/api/cats/lv2",{params:t}).then(function(t){return t.data})},_=function(t){return m.a.get("/api/book/by-categories",{params:t}).then(function(t){return t.data})},g=function(t){return m.a.get("/api/ranking/gender",{params:t}).then(function(t){return t.data})},b=function(t){return m.a.get("/api/ranking/"+t).then(function(t){return t.data})},y=function(t){return m.a.get("/api/atoc/"+t+"?view=chapters").then(function(t){return t.data})},C=function(t){return m.a.get("/chapter/"+encodeURIComponent(t)).then(function(t){return t.data})},L=function(t){return m.a.get("/api/book/auto-complete",{params:t}).then(function(t){return t.data})},x=function(t){return m.a.get("/api/book/search-hotwords",{params:t}).then(function(t){return t.data})},I=a("XLwt");a("FBwb");var T={data:function(){return{query:"",hotwords:[],restaurants:[],timeout:null,echartData:[]}},methods:{getHotwords:function(){var t=this;x({}).then(function(e){if(1==e.ok){t.hotwords=e.searchHotWords;var a=!0,o=!1,i=void 0;try{for(var n,s=p()(t.hotwords);!(a=(n=s.next()).done);a=!0){var r=n.value;t.echartData.push({value:r.times,name:r.word})}}catch(t){o=!0,i=t}finally{try{!a&&s.return&&s.return()}finally{if(o)throw i}}t.drawLine()}})},querySearchAsync:function(t,e){var a=this,o=[];if(""==this.query){this.restaurants=this.hotwords;var i=!0,n=!1,s=void 0;try{for(var r,l=p()(this.restaurants);!(i=(r=l.next()).done);i=!0){var c=r.value;c.value=c.word}}catch(t){n=!0,s=t}finally{try{!i&&l.return&&l.return()}finally{if(n)throw s}}o=this.restaurants}else{var u={query:this.query};L(u).then(function(t){if(1==t.ok){a.restaurants=t.keywords;var e=!0,i=!1,n=void 0;try{for(var s,r=p()(a.restaurants);!(e=(s=r.next()).done);e=!0){var l=s.value;o.push({value:l})}}catch(t){i=!0,n=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw n}}0===o.length&&(o=[{value:"暂无数据"}])}})}clearTimeout(this.timeout),this.timeout=setTimeout(function(){e(o)},3e3*Math.random())},handleSelect:function(t){console.log(t),"暂无数据"!=t.value&&""!=t.value?this.$router.push({path:"/search",query:{val:t.value}}):this.query=""},drawLine:function(){var t=I.init(this.$refs.Echart);t.setOption({tooltip:{show:!1},series:[{type:"wordCloud",gridSize:8,shape:"star",sizeRange:[10,80],rotationRange:[0,0],textStyle:{normal:{color:function(){return"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}},emphasis:{shadowBlur:8,shadowColor:"#555"}},left:"center",top:"center",right:null,bottom:null,data:this.echartData}]}),t.on("click",function(t){window.location.href="/search?val="+t.name})}},mounted:function(){this.getHotwords()}},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"content"},[a("div",{staticClass:"index-search"},[a("el-autocomplete",{staticClass:"input-with-select",attrs:{"fetch-suggestions":t.querySearchAsync,placeholder:"请输入书本名或者作者名",size:"medium",clearable:""},on:{select:t.handleSelect},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleSelect({value:t.query})}},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){t.handleSelect({value:t.query})}},slot:"append"})],1),t._v(" "),a("div",{ref:"Echart",staticStyle:{width:"750px",height:"580px"}})],1)])},staticRenderFns:[]};var w=a("VU/8")(T,S,!1,function(t){a("LEv0")},"data-v-7b97d89a",null).exports,$={components:{BackTop:a("cctj").a},data:function(){return{activeIndex:"/category/male",query:"",hotwords:[],restaurants:[],timeout:null}},methods:{getHotwords:function(){var t=this;x({}).then(function(e){1==e.ok&&(t.hotwords=e.searchHotWords)})},querySearch:function(t,e){var a=this,o=[];if(""==this.query){this.restaurants=this.hotwords;var i=!0,n=!1,s=void 0;try{for(var r,l=p()(this.restaurants);!(i=(r=l.next()).done);i=!0){var c=r.value;c.value=c.word}}catch(t){n=!0,s=t}finally{try{!i&&l.return&&l.return()}finally{if(n)throw s}}o=this.restaurants}else{var u={query:this.query};L(u).then(function(t){if(1==t.ok){a.restaurants=t.keywords;var e=!0,i=!1,n=void 0;try{for(var s,r=p()(a.restaurants);!(e=(s=r.next()).done);e=!0){var l=s.value;o.push({value:l})}}catch(t){i=!0,n=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw n}}0===o.length&&(o=[{value:"暂无数据"}])}})}clearTimeout(this.timeout),this.timeout=setTimeout(function(){e(o)},3e3*Math.random())},querySelect:function(t){"暂无数据"!=t.value&&""!=t.value?this.$router.push({path:"/search",query:{val:t.value}}):this.query=""}},mounted:function(){this.activeIndex=this.$route.path,this.getHotwords()}},R={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-header",[a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal",router:"","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[a("div",{staticClass:"logo"},[t._v("This is a Logo")]),t._v(" "),a("el-menu-item",{attrs:{index:"/index"}},[t._v("首页")]),t._v(" "),a("el-menu-item",{attrs:{index:"/category/male"}},[t._v("热门分类")]),t._v(" "),a("el-menu-item",{attrs:{index:"/ranking/rmale"}},[t._v("排行榜")]),t._v(" "),a("el-menu-item",{attrs:{index:"/bookshelf"}},[t._v("我的书架")]),t._v(" "),a("el-autocomplete",{staticClass:"input-with-select",attrs:{"fetch-suggestions":t.querySearch,placeholder:"请输入书本名或者作者名",size:"small",clearable:""},on:{select:t.querySelect},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.querySelect({value:t.query})}},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){t.querySelect({value:t.query})}},slot:"append"})],1)],1)],1),t._v(" "),a("router-view"),t._v(" "),a("el-footer",[a("p",[t._v("本站提供的内容均来源于网络,纯属共享学习之用,若有侵权,请与管理员邮箱联系！")])]),t._v(" "),a("BackTop",{attrs:{defaultProps:60,date:1e3,color:"#000"}})],1)},staticRenderFns:[]};var j=a("VU/8")($,R,!1,function(t){a("Cyhh")},"data-v-54760ac4",null).exports,D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"content"},[a("el-aside",{staticClass:"left-content"},[a("el-menu",{staticClass:"el-menu-vertical",attrs:{"default-active":t.activeIndex,router:"","background-color":"#fbfaf8"}},[a("el-menu-item",{attrs:{index:"/category/male"}},[a("i",{staticClass:"el-icon-location"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("男生")])]),t._v(" "),a("el-menu-item",{attrs:{index:"/category/female"}},[a("i",{staticClass:"el-icon-menu"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("女生")])]),t._v(" "),a("el-menu-item",{attrs:{index:"/category/press"}},[a("i",{staticClass:"el-icon-document"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("出版物")])]),t._v(" "),a("el-menu-item",{attrs:{index:"/category/picture"}},[a("i",{staticClass:"el-icon-setting"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("图片漫画")])])],1)],1),t._v(" "),a("el-main",{staticClass:"right-content"},[a("router-view")],1)],1)},staticRenderFns:[]},M=a("VU/8")({data:function(){return{activeIndex:"/category/male"}},watch:{$route:function(){this.activeIndex=this.$route.path}},mounted:function(){this.activeIndex=this.$route.path}},D,!1,null,null,null).exports,z={data:function(){return{majorList:[],defaultMajor:"",minsList:[],defaultMins:"",typeList:[{label:"hot",value:"热门"},{label:"new",value:"新书"},{label:"reputation",value:"好评"},{label:"over",value:"完结"}],defaultType:{label:"hot",value:"热门"},bookgender:"male",booksData:[],start:0,limit:10,totalData:0,maleCurrentPage:1}},methods:{getCategorylist:function(){var t=this;k({}).then(function(e){1==e.ok&&(t.majorList=e.male,t.defaultMajor=t.majorList[0].major,t.changeMajor(t.majorList[0]))})},changeMajor:function(t){this.minsList=t.mins,this.defaultMins=t.mins[0],this.getCategorylistbook()},changeMins:function(t){this.defaultMins=t,this.getCategorylistbook()},changeType:function(t){this.defaultType.label=t.label,this.getCategorylistbook()},getCategorylistbook:function(){var t=this,e={gender:this.bookgender,type:this.defaultType.label,major:this.defaultMajor,minor:this.defaultMins,start:this.start,limit:this.limit};_(e).then(function(e){1==e.ok&&(t.booksData=e.books,t.totalData=e.total)})},getBookinfo:function(t){this.$router.push("/bookinfo/"+t._id)},maleSizeChange:function(t){this.limit=t,this.getCategorylistbook()},maleCurrentChange:function(t){this.start=t-1,this.getCategorylistbook(),document.body.scrollTop=0,document.documentElement.scrollTop=0}},mounted:function(){this.getCategorylist()}},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"t-left p10 pb10"},[a("h3",[t._v("男生")]),t._v(" "),t._m(0),t._v(" "),t._l(t.majorList,function(e){return a("el-radio-group",{key:e.id,staticClass:"p5",attrs:{size:"mini"},on:{change:function(a){t.changeMajor(e)}},model:{value:t.defaultMajor,callback:function(e){t.defaultMajor=e},expression:"defaultMajor"}},[a("el-radio-button",{attrs:{label:e.major}})],1)}),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:0!==t.minsList.length,expression:"minsList.length !== 0"}]},[a("i"),t._v("具体类型")]),t._v(" "),t._l(t.minsList,function(e){return a("el-radio-group",{key:e.id,staticClass:"p5",attrs:{size:"mini"},on:{change:function(a){t.changeMins(e)}},model:{value:t.defaultMins,callback:function(e){t.defaultMins=e},expression:"defaultMins"}},[a("el-radio-button",{attrs:{label:e}})],1)}),t._v(" "),t._m(1),t._v(" "),t._l(t.typeList,function(e){return a("el-radio-group",{key:e.id,staticClass:"p5",attrs:{size:"mini"},on:{change:function(a){t.changeType(e)}},model:{value:t.defaultType.value,callback:function(e){t.$set(t.defaultType,"value",e)},expression:"defaultType.value"}},[a("el-radio-button",{attrs:{label:e.value}})],1)})],2),t._v(" "),a("hr"),t._v(" "),a("el-row",t._l(t.booksData,function(e){return a("el-col",{key:e.id,staticClass:"booklist",attrs:{span:12}},[a("div",[a("img",{staticClass:"img cursor",attrs:{src:"http://statics.zhuishushenqi.com"+e.cover,alt:e.title},on:{click:function(a){t.getBookinfo(e)}}}),t._v(" "),a("div",{staticClass:"right"},[a("p",{staticClass:"name cursor",on:{click:function(a){t.getBookinfo(e)}}},[t._v(t._s(e.title))]),t._v(" "),a("p",{staticClass:"author"},[t._v(t._s(e.author+" | "+e.majorCate))]),t._v(" "),a("p",{staticClass:"desc"},[t._v(t._s(e.shortIntro))]),t._v(" "),a("p",{staticClass:"popularity"},[a("span",{staticStyle:{color:"#d82626"}},[t._v(t._s(e.latelyFollower))]),t._v("人气 |\n                        "),a("span",{staticStyle:{color:"#d82626"}},[t._v(t._s(e.retentionRatio))]),t._v("读者存留\n                    ")])])])])})),t._v(" "),a("hr"),t._v(" "),a("el-pagination",{attrs:{"current-page":t.maleCurrentPage,"page-sizes":[10,20,30,40,50],"page-size":t.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.totalData},on:{"size-change":t.maleSizeChange,"current-change":t.maleCurrentChange}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i"),this._v("作品类型")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i"),this._v("更多筛选")])}]};var E=a("VU/8")(z,B,!1,function(t){a("XTCv")},"data-v-1ce6acfd",null).exports,q={data:function(){return{majorList:[],defaultMajor:"",minsList:[],defaultMins:"",typeList:[{label:"hot",value:"热门"},{label:"new",value:"新书"},{label:"reputation",value:"好评"},{label:"over",value:"完结"}],defaultType:{label:"hot",value:"热门"},bookgender:"female",booksData:[],start:0,limit:10,totalData:0,maleCurrentPage:1}},methods:{getCategorylist:function(){var t=this;k({}).then(function(e){1==e.ok&&(t.majorList=e.female,t.defaultMajor=t.majorList[0].major,t.changeMajor(t.majorList[0]))})},changeMajor:function(t){this.minsList=t.mins,this.defaultMins=t.mins[0],this.getCategorylistbook()},changeMins:function(t){this.defaultMins=t,this.getCategorylistbook()},changeType:function(t){this.defaultType.label=t.label,this.getCategorylistbook()},getCategorylistbook:function(){var t=this,e={gender:this.bookgender,type:this.defaultType.label,major:this.defaultMajor,minor:this.defaultMins,start:this.start,limit:this.limit};_(e).then(function(e){1==e.ok&&(t.booksData=e.books,t.totalData=e.total)})},getBookinfo:function(t){this.$router.push("/bookinfo/"+t._id)},maleSizeChange:function(t){this.limit=t,this.getCategorylistbook()},maleCurrentChange:function(t){this.start=t-1,this.getCategorylistbook(),document.body.scrollTop=0,document.documentElement.scrollTop=0}},mounted:function(){this.getCategorylist()}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"t-left p10 pb10"},[a("h3",[t._v("女生")]),t._v(" "),t._m(0),t._v(" "),t._l(t.majorList,function(e){return a("el-radio-group",{key:e.id,staticClass:"p5",attrs:{size:"mini"},on:{change:function(a){t.changeMajor(e)}},model:{value:t.defaultMajor,callback:function(e){t.defaultMajor=e},expression:"defaultMajor"}},[a("el-radio-button",{attrs:{label:e.major}})],1)}),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:0!==t.minsList.length,expression:"minsList.length !== 0"}]},[a("i"),t._v("具体类型")]),t._v(" "),t._l(t.minsList,function(e){return a("el-radio-group",{key:e.id,staticClass:"p5",attrs:{size:"mini"},on:{change:function(a){t.changeMins(e)}},model:{value:t.defaultMins,callback:function(e){t.defaultMins=e},expression:"defaultMins"}},[a("el-radio-button",{attrs:{label:e}})],1)}),t._v(" "),t._m(1),t._v(" "),t._l(t.typeList,function(e){return a("el-radio-group",{key:e.id,staticClass:"p5",attrs:{size:"mini"},on:{change:function(a){t.changeType(e)}},model:{value:t.defaultType.value,callback:function(e){t.$set(t.defaultType,"value",e)},expression:"defaultType.value"}},[a("el-radio-button",{attrs:{label:e.value}})],1)})],2),t._v(" "),a("hr"),t._v(" "),a("el-row",t._l(t.booksData,function(e){return a("el-col",{key:e.id,staticClass:"booklist",attrs:{span:12}},[a("div",[a("img",{staticClass:"img cursor",attrs:{src:"http://statics.zhuishushenqi.com"+e.cover,alt:e.title},on:{click:function(a){t.getBookinfo(e)}}}),t._v(" "),a("div",{staticClass:"right"},[a("p",{staticClass:"name cursor",on:{click:function(a){t.getBookinfo(e)}}},[t._v(t._s(e.title))]),t._v(" "),a("p",{staticClass:"author"},[t._v(t._s(e.author+" | "+e.majorCate))]),t._v(" "),a("p",{staticClass:"desc"},[t._v(t._s(e.shortIntro))]),t._v(" "),a("p",{staticClass:"popularity"},[a("span",{staticStyle:{color:"#d82626"}},[t._v(t._s(e.latelyFollower))]),t._v("人气 |\n                        "),a("span",{staticStyle:{color:"#d82626"}},[t._v(t._s(e.retentionRatio))]),t._v("读者存留\n                    ")])])])])})),t._v(" "),a("hr"),t._v(" "),a("el-pagination",{attrs:{"current-page":t.maleCurrentPage,"page-sizes":[10,20,30,40,50],"page-size":t.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.totalData},on:{"size-change":t.maleSizeChange,"current-change":t.maleCurrentChange}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i"),this._v("作品类型")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i"),this._v("更多筛选")])}]};var N=a("VU/8")(q,F,!1,function(t){a("hcNT")},"data-v-0ac740ca",null).exports,V={data:function(){return{majorList:[],defaultMajor:"",minsList:[],defaultMins:"",typeList:[{label:"hot",value:"热门"},{label:"new",value:"新书"},{label:"reputation",value:"好评"},{label:"over",value:"完结"}],defaultType:{label:"hot",value:"热门"},bookgender:"press",booksData:[],start:0,limit:10,totalData:0,maleCurrentPage:1}},methods:{getCategorylist:function(){var t=this;k({}).then(function(e){1==e.ok&&(t.majorList=e.press,t.defaultMajor=t.majorList[0].major,t.changeMajor(t.majorList[0]))})},changeMajor:function(t){this.minsList=t.mins,this.defaultMins=t.mins[0],this.getCategorylistbook()},changeMins:function(t){this.defaultMins=t,this.getCategorylistbook()},changeType:function(t){this.defaultType.label=t.label,this.getCategorylistbook()},getCategorylistbook:function(){var t=this,e={gender:this.bookgender,type:this.defaultType.label,major:this.defaultMajor,minor:this.defaultMins,start:this.start,limit:this.limit};_(e).then(function(e){1==e.ok&&(t.booksData=e.books,t.totalData=e.total)})},getBookinfo:function(t){this.$router.push("/bookinfo/"+t._id)},maleSizeChange:function(t){this.limit=t,this.getCategorylistbook()},maleCurrentChange:function(t){this.start=t-1,this.getCategorylistbook(),document.body.scrollTop=0,document.documentElement.scrollTop=0}},mounted:function(){this.getCategorylist()}},U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"t-left p10 pb10"},[a("h3",[t._v("出版物")]),t._v(" "),t._m(0),t._v(" "),t._l(t.majorList,function(e){return a("el-radio-group",{key:e.id,staticClass:"p5",attrs:{size:"mini"},on:{change:function(a){t.changeMajor(e)}},model:{value:t.defaultMajor,callback:function(e){t.defaultMajor=e},expression:"defaultMajor"}},[a("el-radio-button",{attrs:{label:e.major}})],1)}),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:0!==t.minsList.length,expression:"minsList.length !== 0"}]},[a("i"),t._v("具体类型")]),t._v(" "),t._l(t.minsList,function(e){return a("el-radio-group",{key:e.id,staticClass:"p5",attrs:{size:"mini"},on:{change:function(a){t.changeMins(e)}},model:{value:t.defaultMins,callback:function(e){t.defaultMins=e},expression:"defaultMins"}},[a("el-radio-button",{attrs:{label:e}})],1)}),t._v(" "),t._m(1),t._v(" "),t._l(t.typeList,function(e){return a("el-radio-group",{key:e.id,staticClass:"p5",attrs:{size:"mini"},on:{change:function(a){t.changeType(e)}},model:{value:t.defaultType.value,callback:function(e){t.$set(t.defaultType,"value",e)},expression:"defaultType.value"}},[a("el-radio-button",{attrs:{label:e.value}})],1)})],2),t._v(" "),a("hr"),t._v(" "),a("el-row",t._l(t.booksData,function(e){return a("el-col",{key:e.id,staticClass:"booklist",attrs:{span:12}},[a("div",[a("img",{staticClass:"img cursor",attrs:{src:"http://statics.zhuishushenqi.com"+e.cover,alt:e.title},on:{click:function(a){t.getBookinfo(e)}}}),t._v(" "),a("div",{staticClass:"right"},[a("p",{staticClass:"name cursor",on:{click:function(a){t.getBookinfo(e)}}},[t._v(t._s(e.title))]),t._v(" "),a("p",{staticClass:"author"},[t._v(t._s(e.author+" | "+e.majorCate))]),t._v(" "),a("p",{staticClass:"desc"},[t._v(t._s(e.shortIntro))]),t._v(" "),a("p",{staticClass:"popularity"},[a("span",{staticStyle:{color:"#d82626"}},[t._v(t._s(e.latelyFollower))]),t._v("人气 |\n                        "),a("span",{staticStyle:{color:"#d82626"}},[t._v(t._s(e.retentionRatio))]),t._v("读者存留\n                    ")])])])])})),t._v(" "),a("hr"),t._v(" "),a("el-pagination",{attrs:{"current-page":t.maleCurrentPage,"page-sizes":[10,20,30,40,50],"page-size":t.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.totalData},on:{"size-change":t.maleSizeChange,"current-change":t.maleCurrentChange}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i"),this._v("作品类型")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i"),this._v("更多筛选")])}]};var P=a("VU/8")(V,U,!1,function(t){a("3GpE")},"data-v-a45d8790",null).exports,O={data:function(){return{majorList:[],defaultMajor:"",minsList:[],defaultMins:"",typeList:[{label:"hot",value:"热门"},{label:"new",value:"新书"},{label:"reputation",value:"好评"},{label:"over",value:"完结"}],defaultType:{label:"hot",value:"热门"},bookgender:"picture",booksData:[],start:0,limit:10,totalData:0,maleCurrentPage:1}},methods:{getCategorylist:function(){var t=this;k({}).then(function(e){1==e.ok&&(t.majorList=e.picture,t.defaultMajor=t.majorList[0].major,t.changeMajor(t.majorList[0]))})},changeMajor:function(t){this.minsList=t.mins,this.defaultMins=t.mins[0],this.getCategorylistbook()},changeMins:function(t){this.defaultMins=t,this.getCategorylistbook()},changeType:function(t){this.defaultType.label=t.label,this.getCategorylistbook()},getCategorylistbook:function(){var t=this,e={gender:this.bookgender,type:this.defaultType.label,major:this.defaultMajor,minor:this.defaultMins,start:this.start,limit:this.limit};_(e).then(function(e){1==e.ok&&(t.booksData=e.books,t.totalData=e.total)})},getBookinfo:function(t){this.$router.push("/bookinfo/"+t._id)},maleSizeChange:function(t){this.limit=t,this.getCategorylistbook()},maleCurrentChange:function(t){this.start=t-1,this.getCategorylistbook(),document.body.scrollTop=0,document.documentElement.scrollTop=0}},mounted:function(){this.getCategorylist()}},A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"t-left p10 pb10"},[a("h3",[t._v("图书漫画")]),t._v(" "),t._m(0),t._v(" "),t._l(t.majorList,function(e){return a("el-radio-group",{key:e.id,staticClass:"p5",attrs:{size:"mini"},on:{change:function(a){t.changeMajor(e)}},model:{value:t.defaultMajor,callback:function(e){t.defaultMajor=e},expression:"defaultMajor"}},[a("el-radio-button",{attrs:{label:e.major}})],1)}),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:0!==t.minsList.length,expression:"minsList.length !== 0"}]},[a("i"),t._v("具体类型")]),t._v(" "),t._l(t.minsList,function(e){return a("el-radio-group",{key:e.id,staticClass:"p5",attrs:{size:"mini"},on:{change:function(a){t.changeMins(e)}},model:{value:t.defaultMins,callback:function(e){t.defaultMins=e},expression:"defaultMins"}},[a("el-radio-button",{attrs:{label:e}})],1)}),t._v(" "),t._m(1),t._v(" "),t._l(t.typeList,function(e){return a("el-radio-group",{key:e.id,staticClass:"p5",attrs:{size:"mini"},on:{change:function(a){t.changeType(e)}},model:{value:t.defaultType.value,callback:function(e){t.$set(t.defaultType,"value",e)},expression:"defaultType.value"}},[a("el-radio-button",{attrs:{label:e.value}})],1)})],2),t._v(" "),a("hr"),t._v(" "),a("el-row",t._l(t.booksData,function(e){return a("el-col",{key:e.id,staticClass:"booklist",attrs:{span:12}},[a("div",[a("img",{staticClass:"img cursor",attrs:{src:"http://statics.zhuishushenqi.com"+e.cover,alt:e.title},on:{click:function(a){t.getBookinfo(e)}}}),t._v(" "),a("div",{staticClass:"right"},[a("p",{staticClass:"name cursor",on:{click:function(a){t.getBookinfo(e)}}},[t._v(t._s(e.title))]),t._v(" "),a("p",{staticClass:"author"},[t._v(t._s(e.author+" | "+e.majorCate))]),t._v(" "),a("p",{staticClass:"desc"},[t._v(t._s(e.shortIntro))]),t._v(" "),a("p",{staticClass:"popularity"},[a("span",{staticStyle:{color:"#d82626"}},[t._v(t._s(e.latelyFollower))]),t._v("人气 |\n                        "),a("span",{staticStyle:{color:"#d82626"}},[t._v(t._s(e.retentionRatio))]),t._v("读者存留\n                    ")])])])])})),t._v(" "),a("hr"),t._v(" "),a("el-pagination",{attrs:{"current-page":t.maleCurrentPage,"page-sizes":[10,20,30,40,50],"page-size":t.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.totalData},on:{"size-change":t.maleSizeChange,"current-change":t.maleCurrentChange}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i"),this._v("作品类型")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i"),this._v("更多筛选")])}]};var H=a("VU/8")(O,A,!1,function(t){a("Ett0")},"data-v-b0efb206",null).exports,J={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"content"},[a("el-aside",{staticClass:"left-content"},[a("el-menu",{staticClass:"el-menu-vertical",attrs:{"default-active":t.activeIndex,router:"","background-color":"#fbfaf8"}},[a("el-menu-item",{attrs:{index:"/ranking/rmale"}},[a("i",{staticClass:"el-icon-location"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("男生")])]),t._v(" "),a("el-menu-item",{attrs:{index:"/ranking/rfemale"}},[a("i",{staticClass:"el-icon-menu"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("女生")])]),t._v(" "),a("el-menu-item",{attrs:{index:"/ranking/rpress"}},[a("i",{staticClass:"el-icon-document"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("出版物")])]),t._v(" "),a("el-menu-item",{attrs:{index:"/ranking/rpicture"}},[a("i",{staticClass:"el-icon-setting"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("图片漫画")])])],1)],1),t._v(" "),a("el-main",{staticClass:"right-content"},[a("router-view")],1)],1)},staticRenderFns:[]},W=a("VU/8")({data:function(){return{activeIndex:"/ranking/rmale"}},watch:{$route:function(){this.activeIndex=this.$route.path}},mounted:function(){this.activeIndex=this.$route.path}},J,!1,null,null,null).exports,X={data:function(){return{rankList:[],defaultRank:"",defaultType:"",rankId:"",typeList:[],booksData:[]}},methods:{getRanklist:function(){var t=this;g({}).then(function(e){1==e.ok&&(t.rankList=e.male,t.defaultRank=t.rankList[0].title,t.changeRank(t.rankList[0]))})},changeRank:function(t){this.rankId=t._id,this.typeList=t,this.defaultType="",this.getRanklistbook()},changeType:function(t){this.rankId=t,this.getRanklistbook()},getRanklistbook:function(){var t=this,e=this.rankId;b(e).then(function(e){1==e.ok&&(t.booksData=e.ranking.books)})},getBookinfo:function(t){this.$router.push("/bookinfo/"+t._id)}},mounted:function(){this.getRanklist()}},Y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"t-left p10 pb10"},[a("h3",[t._v("男生")]),t._v(" "),t._m(0),t._v(" "),t._l(t.rankList,function(e){return a("el-radio-group",{key:e.id,staticClass:"p5",attrs:{size:"mini"},on:{change:function(a){t.changeRank(e)}},model:{value:t.defaultRank,callback:function(e){t.defaultRank=e},expression:"defaultRank"}},[a("el-radio-button",{attrs:{label:e.title}})],1)}),t._v(" "),t._m(1),t._v(" "),a("el-radio-group",{staticClass:"p5",attrs:{size:"mini"},on:{change:function(e){t.changeType(t.typeList._id)}},model:{value:t.defaultType,callback:function(e){t.defaultType=e},expression:"defaultType"}},[t.typeList._id?a("el-radio-button",{attrs:{label:"typeList._id"}},[t._v("周排行榜")]):t._e()],1),t._v(" "),a("el-radio-group",{staticClass:"p5",attrs:{size:"mini"},on:{change:function(e){t.changeType(t.typeList.monthRank)}},model:{value:t.defaultType,callback:function(e){t.defaultType=e},expression:"defaultType"}},[t.typeList.monthRank?a("el-radio-button",{attrs:{label:"typeList.monthRank"}},[t._v("月排行榜")]):t._e()],1),t._v(" "),a("el-radio-group",{staticClass:"p5",attrs:{size:"mini"},on:{change:function(e){t.changeType(t.typeList.totalRank)}},model:{value:t.defaultType,callback:function(e){t.defaultType=e},expression:"defaultType"}},[t.typeList.totalRank?a("el-radio-button",{attrs:{label:"typeList.totalRank"}},[t._v("总排行榜")]):t._e()],1)],2),t._v(" "),a("hr"),t._v(" "),a("el-row",t._l(t.booksData,function(e){return a("el-col",{key:e.id,staticClass:"booklist",attrs:{span:12}},[a("div",[a("img",{staticClass:"img cursor",attrs:{src:"http://statics.zhuishushenqi.com"+e.cover,alt:e.title},on:{click:function(a){t.getBookinfo(e)}}}),t._v(" "),a("div",{staticClass:"right"},[a("p",{staticClass:"name cursor",on:{click:function(a){t.getBookinfo(e)}}},[t._v(t._s(e.title))]),t._v(" "),a("p",{staticClass:"author"},[t._v(t._s(e.author+" | "+e.majorCate))]),t._v(" "),a("p",{staticClass:"desc"},[t._v(t._s(e.shortIntro))]),t._v(" "),a("p",{staticClass:"popularity"},[a("span",{staticStyle:{color:"#d82626"}},[t._v(t._s(e.latelyFollower))]),t._v("人气 |\n                        "),a("span",{staticStyle:{color:"#d82626"}},[t._v(t._s(e.retentionRatio))]),t._v("读者存留\n                    ")])])])])})),t._v(" "),a("hr")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i"),this._v("作品类型")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i"),this._v("更多筛选")])}]};var G=a("VU/8")(X,Y,!1,function(t){a("oILd")},"data-v-15bb548a",null).exports,K={data:function(){return{rankList:[],defaultRank:"",defaultType:"",rankId:"",typeList:[],booksData:[]}},methods:{getRanklist:function(){var t=this;g({}).then(function(e){1==e.ok&&(t.rankList=e.female,t.defaultRank=t.rankList[0].title,t.changeRank(t.rankList[0]))})},changeRank:function(t){this.rankId=t._id,this.typeList=t,this.defaultType="",this.getRanklistbook()},changeType:function(t){this.rankId=t,this.getRanklistbook()},getRanklistbook:function(){var t=this,e=this.rankId;b(e).then(function(e){1==e.ok&&(t.booksData=e.ranking.books)})},getBookinfo:function(t){this.$router.push("/bookinfo/"+t._id)}},mounted:function(){this.getRanklist()}},Q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"t-left p10 pb10"},[a("h3",[t._v("女生")]),t._v(" "),t._m(0),t._v(" "),t._l(t.rankList,function(e){return a("el-radio-group",{key:e.id,staticClass:"p5",attrs:{size:"mini"},on:{change:function(a){t.changeRank(e)}},model:{value:t.defaultRank,callback:function(e){t.defaultRank=e},expression:"defaultRank"}},[a("el-radio-button",{attrs:{label:e.title}})],1)}),t._v(" "),t._m(1),t._v(" "),a("el-radio-group",{staticClass:"p5",attrs:{size:"mini"},on:{change:function(e){t.changeType(t.typeList._id)}},model:{value:t.defaultType,callback:function(e){t.defaultType=e},expression:"defaultType"}},[t.typeList._id?a("el-radio-button",{attrs:{label:"typeList._id"}},[t._v("周排行榜")]):t._e()],1),t._v(" "),a("el-radio-group",{staticClass:"p5",attrs:{size:"mini"},on:{change:function(e){t.changeType(t.typeList.monthRank)}},model:{value:t.defaultType,callback:function(e){t.defaultType=e},expression:"defaultType"}},[t.typeList.monthRank?a("el-radio-button",{attrs:{label:"typeList.monthRank"}},[t._v("月排行榜")]):t._e()],1),t._v(" "),a("el-radio-group",{staticClass:"p5",attrs:{size:"mini"},on:{change:function(e){t.changeType(t.typeList.totalRank)}},model:{value:t.defaultType,callback:function(e){t.defaultType=e},expression:"defaultType"}},[t.typeList.totalRank?a("el-radio-button",{attrs:{label:"typeList.totalRank"}},[t._v("总排行榜")]):t._e()],1)],2),t._v(" "),a("hr"),t._v(" "),a("el-row",t._l(t.booksData,function(e){return a("el-col",{key:e.id,staticClass:"booklist",attrs:{span:12}},[a("div",[a("img",{staticClass:"img cursor",attrs:{src:"http://statics.zhuishushenqi.com"+e.cover,alt:e.title},on:{click:function(a){t.getBookinfo(e)}}}),t._v(" "),a("div",{staticClass:"right"},[a("p",{staticClass:"name cursor",on:{click:function(a){t.getBookinfo(e)}}},[t._v(t._s(e.title))]),t._v(" "),a("p",{staticClass:"author"},[t._v(t._s(e.author+" | "+e.majorCate))]),t._v(" "),a("p",{staticClass:"desc"},[t._v(t._s(e.shortIntro))]),t._v(" "),a("p",{staticClass:"popularity"},[a("span",{staticStyle:{color:"#d82626"}},[t._v(t._s(e.latelyFollower))]),t._v("人气 |\n                        "),a("span",{staticStyle:{color:"#d82626"}},[t._v(t._s(e.retentionRatio))]),t._v("读者存留\n                    ")])])])])})),t._v(" "),a("hr")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i"),this._v("作品类型")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i"),this._v("更多筛选")])}]};var Z=a("VU/8")(K,Q,!1,function(t){a("J5zU")},"data-v-5418e510",null).exports,tt={data:function(){return{rankList:[],defaultRank:"",defaultType:"",rankId:"",typeList:[],booksData:[]}},methods:{getRanklist:function(){var t=this;g({}).then(function(e){1==e.ok&&(t.rankList=e.epub,t.defaultRank=t.rankList[0].title,t.changeRank(t.rankList[0]))})},changeRank:function(t){this.rankId=t._id,this.typeList=t,this.defaultType="",this.getRanklistbook()},changeType:function(t){this.rankId=t,this.getRanklistbook()},getRanklistbook:function(){var t=this,e=this.rankId;b(e).then(function(e){1==e.ok&&(t.booksData=e.ranking.books)})},getBookinfo:function(t){this.$router.push("/bookinfo/"+t._id)}},mounted:function(){this.getRanklist()}},et={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"t-left p10 pb10"},[a("h3",[t._v("出版物")]),t._v(" "),t._m(0),t._v(" "),t._l(t.rankList,function(e){return a("el-radio-group",{key:e.id,staticClass:"p5",attrs:{size:"mini"},on:{change:function(a){t.changeRank(e)}},model:{value:t.defaultRank,callback:function(e){t.defaultRank=e},expression:"defaultRank"}},[a("el-radio-button",{attrs:{label:e.title}})],1)}),t._v(" "),t._m(1),t._v(" "),a("el-radio-group",{staticClass:"p5",attrs:{size:"mini"},on:{change:function(e){t.changeType(t.typeList._id)}},model:{value:t.defaultType,callback:function(e){t.defaultType=e},expression:"defaultType"}},[t.typeList._id?a("el-radio-button",{attrs:{label:"typeList._id"}},[t._v("周排行榜")]):t._e()],1),t._v(" "),a("el-radio-group",{staticClass:"p5",attrs:{size:"mini"},on:{change:function(e){t.changeType(t.typeList.monthRank)}},model:{value:t.defaultType,callback:function(e){t.defaultType=e},expression:"defaultType"}},[t.typeList.monthRank?a("el-radio-button",{attrs:{label:"typeList.monthRank"}},[t._v("月排行榜")]):t._e()],1),t._v(" "),a("el-radio-group",{staticClass:"p5",attrs:{size:"mini"},on:{change:function(e){t.changeType(t.typeList.totalRank)}},model:{value:t.defaultType,callback:function(e){t.defaultType=e},expression:"defaultType"}},[t.typeList.totalRank?a("el-radio-button",{attrs:{label:"typeList.totalRank"}},[t._v("总排行榜")]):t._e()],1)],2),t._v(" "),a("hr"),t._v(" "),a("el-row",t._l(t.booksData,function(e){return a("el-col",{key:e.id,staticClass:"booklist",attrs:{span:12}},[a("div",[a("img",{staticClass:"img cursor",attrs:{src:"http://statics.zhuishushenqi.com"+e.cover,alt:e.title},on:{click:function(a){t.getBookinfo(e)}}}),t._v(" "),a("div",{staticClass:"right"},[a("p",{staticClass:"name cursor",on:{click:function(a){t.getBookinfo(e)}}},[t._v(t._s(e.title))]),t._v(" "),a("p",{staticClass:"author"},[t._v(t._s(e.author+" | "+e.majorCate))]),t._v(" "),a("p",{staticClass:"desc"},[t._v(t._s(e.shortIntro))]),t._v(" "),a("p",{staticClass:"popularity"},[a("span",{staticStyle:{color:"#d82626"}},[t._v(t._s(e.latelyFollower))]),t._v("人气 |\n                        "),a("span",{staticStyle:{color:"#d82626"}},[t._v(t._s(e.retentionRatio))]),t._v("读者存留\n                    ")])])])])})),t._v(" "),a("hr")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i"),this._v("作品类型")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i"),this._v("更多筛选")])}]};var at=a("VU/8")(tt,et,!1,function(t){a("X9AJ")},"data-v-21e90f7b",null).exports,ot={data:function(){return{rankList:[],defaultRank:"",defaultType:"",rankId:"",typeList:[],booksData:[]}},methods:{getRanklist:function(){var t=this;g({}).then(function(e){1==e.ok&&(t.rankList=e.picture,t.defaultRank=t.rankList[0].title,t.changeRank(t.rankList[0]))})},changeRank:function(t){this.rankId=t._id,this.typeList=t,this.defaultType="",this.getRanklistbook()},changeType:function(t){this.rankId=t,this.getRanklistbook()},getRanklistbook:function(){var t=this,e=this.rankId;b(e).then(function(e){1==e.ok&&(t.booksData=e.ranking.books)})},getBookinfo:function(t){this.$router.push("/bookinfo/"+t._id)}},mounted:function(){this.getRanklist()}},it={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"t-left p10 pb10"},[a("h3",[t._v("图书漫画")]),t._v(" "),t._m(0),t._v(" "),t._l(t.rankList,function(e){return a("el-radio-group",{key:e.id,staticClass:"p5",attrs:{size:"mini"},on:{change:function(a){t.changeRank(e)}},model:{value:t.defaultRank,callback:function(e){t.defaultRank=e},expression:"defaultRank"}},[a("el-radio-button",{attrs:{label:e.title}})],1)}),t._v(" "),t._m(1),t._v(" "),a("el-radio-group",{staticClass:"p5",attrs:{size:"mini"},on:{change:function(e){t.changeType(t.typeList._id)}},model:{value:t.defaultType,callback:function(e){t.defaultType=e},expression:"defaultType"}},[t.typeList._id?a("el-radio-button",{attrs:{label:"typeList._id"}},[t._v("周排行榜")]):t._e()],1),t._v(" "),a("el-radio-group",{staticClass:"p5",attrs:{size:"mini"},on:{change:function(e){t.changeType(t.typeList.monthRank)}},model:{value:t.defaultType,callback:function(e){t.defaultType=e},expression:"defaultType"}},[t.typeList.monthRank?a("el-radio-button",{attrs:{label:"typeList.monthRank"}},[t._v("月排行榜")]):t._e()],1),t._v(" "),a("el-radio-group",{staticClass:"p5",attrs:{size:"mini"},on:{change:function(e){t.changeType(t.typeList.totalRank)}},model:{value:t.defaultType,callback:function(e){t.defaultType=e},expression:"defaultType"}},[t.typeList.totalRank?a("el-radio-button",{attrs:{label:"typeList.totalRank"}},[t._v("总排行榜")]):t._e()],1)],2),t._v(" "),a("hr"),t._v(" "),a("el-row",t._l(t.booksData,function(e){return a("el-col",{key:e.id,staticClass:"booklist",attrs:{span:12}},[a("div",[a("img",{staticClass:"img cursor",attrs:{src:"http://statics.zhuishushenqi.com"+e.cover,alt:e.title},on:{click:function(a){t.getBookinfo(e)}}}),t._v(" "),a("div",{staticClass:"right"},[a("p",{staticClass:"name cursor",on:{click:function(a){t.getBookinfo(e)}}},[t._v(t._s(e.title))]),t._v(" "),a("p",{staticClass:"author"},[t._v(t._s(e.author+" | "+e.majorCate))]),t._v(" "),a("p",{staticClass:"desc"},[t._v(t._s(e.shortIntro))]),t._v(" "),a("p",{staticClass:"popularity"},[a("span",{staticStyle:{color:"#d82626"}},[t._v(t._s(e.latelyFollower))]),t._v("人气 |\n                        "),a("span",{staticStyle:{color:"#d82626"}},[t._v(t._s(e.retentionRatio))]),t._v("读者存留\n                    ")])])])])})),t._v(" "),a("hr")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i"),this._v("作品类型")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i"),this._v("更多筛选")])}]};var nt=a("VU/8")(ot,it,!1,function(t){a("51DT")},"data-v-4a6c9d74",null).exports,st=a("Dd8w"),rt=a.n(st),lt=a("NYxO"),ct={data:function(){return{bookLink:[],catalogList:[],sourceId:"",sourceName:"",lastChapter:"",staticsLink:"",dialogSources:!1,formSources:{sources:"",lastChapter:""},sourcesData:[],formSourcesData:[]}},methods:rt()({},Object(lt.b)(["setBookShelf"]),{getBookinfo:function(){var t,e=this,a=this.bookId;(t=a,m.a.get("/api/book/"+t).then(function(t){return t.data})).then(function(t){e.bookLink=t,e.staticsLink="http://statics.zhuishushenqi.com"+t.cover})},getBookSources:function(){var t=this,e=this.$store.state.bookShelf;this.mybookData=e.filter(function(e){return e.id===t.$route.params.bookId});var a,o={view:"summary",book:this.bookId};(a=o,m.a.get("/api/atoc",{params:a}).then(function(t){return t.data})).then(function(a){"-1"==e.findIndex(function(e){return e.id===t.$route.params.bookId})?(t.sourceId=a[0]._id,t.sourceName=a[0].name,t.formSources.sources=a[0].name,t.lastChapter=a[0].lastChapter,t.formSources.lastChapter=a[0].lastChapter):(t.sourceId=t.mybookData[0].sourceId,t.sourceName=t.mybookData[0].readsource,t.formSources.sources=t.mybookData[0].readsource,t.lastChapter=t.mybookData[0].lastChapter,t.formSources.lastChapter=t.mybookData[0].lastChapter),t.sourcesData=a,t.getCatalog()})},getCatalog:function(){var t=this,e=this.sourceId;y(e).then(function(e){t.catalogList=e.chapters})},chapterMatter:function(t){var e=this,a=this.$store.state.bookShelf;if("-1"==a.findIndex(function(t){return t.id===e.$route.params.bookId})){var o={id:this.bookLink._id,title:this.bookLink.title,cover:this.bookLink.cover,author:this.bookLink.author,readlink:t.link,readtitle:t.title,sourceId:this.sourceId,readsource:this.sourceName,lastChapter:this.lastChapter};a.push(o),this.setBookShelf(a)}else a[a.findIndex(function(t){return t.id===e.$route.params.bookId})].sourceId=this.sourceId,a[a.findIndex(function(t){return t.id===e.$route.params.bookId})].readlink=t.link,a[a.findIndex(function(t){return t.id===e.$route.params.bookId})].readtitle=t.title,this.setBookShelf(a);this.$router.push("/bookchapter/"+this.bookId)},addBooks:function(){var t=this,e=this.$store.state.bookShelf;if("-1"==e.findIndex(function(e){return e.id===t.$route.params.bookId})){var a={id:this.bookLink._id,title:this.bookLink.title,cover:this.bookLink.cover,author:this.bookLink.author,readlink:this.catalogList[0].link,readtitle:this.catalogList[0].title,sourceId:this.sourceId,readsource:this.sourceName,lastChapter:this.lastChapter};e.push(a),this.setBookShelf(e)}else e[e.findIndex(function(e){return e.id===t.$route.params.bookId})].sourceId=this.sourceId,e[e.findIndex(function(e){return e.id===t.$route.params.bookId})].readsource=this.sourceName,e[e.findIndex(function(e){return e.id===t.$route.params.bookId})].lastChapter=this.lastChapter,this.setBookShelf(e),this.$message({message:"此本书已经加入书架咯~",type:"warning",duration:1e3})},readBooks:function(){var t=this,e=this.$store.state.bookShelf;if("-1"==e.findIndex(function(e){return e.id===t.$route.params.bookId})){var a={id:this.bookLink._id,title:this.bookLink.title,cover:this.bookLink.cover,author:this.bookLink.author,readlink:this.catalogList[0].link,readtitle:this.catalogList[0].title,sourceId:this.sourceId,readsource:this.sourceName,lastChapter:this.lastChapter};e.push(a),this.setBookShelf(e)}this.$router.push("/bookchapter/"+this.bookId)},changeSources:function(t){this.sourceId=t._id,this.sourceName=t.name,this.lastChapter=t.lastChapter,this.formSources.lastChapter=t.lastChapter},affirmSources:function(){var t=this;this.getCatalog();var e=this.$store.state.bookShelf;if("-1"==e.findIndex(function(e){return e.id===t.$route.params.bookId})){var a={id:this.bookLink._id,title:this.bookLink.title,cover:this.bookLink.cover,author:this.bookLink.author,readlink:this.catalogList[0].link,readtitle:this.catalogList[0].title,sourceId:this.sourceId,readsource:this.sourceName,lastChapter:this.lastChapter};e.push(a),this.setBookShelf(e)}else e[e.findIndex(function(e){return e.id===t.$route.params.bookId})].sourceId=this.sourceId,e[e.findIndex(function(e){return e.id===t.$route.params.bookId})].readsource=this.sourceName,e[e.findIndex(function(e){return e.id===t.$route.params.bookId})].lastChapter=this.lastChapter,e[e.findIndex(function(e){return e.id===t.$route.params.bookId})].readlink="",this.setBookShelf(e)}}),mounted:function(){this.bookId=this.$route.params.bookId,this.getBookinfo(),this.getBookSources()}},ut={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("el-breadcrumb",{staticClass:"breadcrumbs",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/index"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/category/male"}}},[t._v(t._s(t.bookLink.cat))]),t._v(" "),a("el-breadcrumb-item",[t._v(t._s(t.bookLink.title))])],1),t._v(" "),a("div",{staticClass:"infoCon"},[a("img",{staticClass:"img",attrs:{src:t.staticsLink,alt:t.bookLink.title}}),t._v(" "),a("div",{staticClass:"right"},[a("div",{staticClass:"float-left"},[a("p",{staticClass:"name"},[t._v(t._s(t.bookLink.title))]),t._v(" "),a("p",{staticClass:"info"},[t._v("作者："+t._s(t.bookLink.author))]),t._v(" "),a("p",{staticClass:"info"},[t._v("类型："+t._s(t.bookLink.majorCate)+" | 字数："+t._s((t.bookLink.wordCount/1e4).toFixed(0))+"万字")]),t._v(" "),a("p",{staticClass:"info"},[t._v("最后更新："+t._s(t.bookLink.updated))]),t._v(" "),a("p",{staticClass:"info"},[t._v("最新章节："+t._s(t.lastChapter))]),t._v(" "),a("p",{staticClass:"info"},[t._v("当前小说源："+t._s(t.sourceName))])]),t._v(" "),a("div",{staticClass:"float-right mt20"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){t.addBooks()}}},[t._v("加入书架")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){t.readBooks()}}},[t._v("开始阅读")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){t.dialogSources=!0}}},[t._v("更换小说源")])],1),t._v(" "),a("p",{staticClass:"intro clear-both"},[t._v(t._s(t.bookLink.longIntro))])]),t._v(" "),a("div",{staticStyle:{clear:"both"}})]),t._v(" "),a("div",{staticClass:"infoCon mt10"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("p",[t._v("追书人数")]),t._v(" "),a("p",{staticClass:"popularity-p"},[t._v(t._s(t.bookLink.latelyFollower))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("p",[t._v("读者存留率")]),t._v(" "),a("p",{staticClass:"popularity-p"},[t._v(t._s(t.bookLink.retentionRatio)+"%")])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("p",[t._v("日更新字数")]),t._v(" "),a("p",{staticClass:"popularity-p"},[t._v(t._s(t.bookLink.serializeWordCount)+"字")])])],1)],1),t._v(" "),a("div",{staticClass:"infoCon mt10"},[t._m(0),t._v(" "),a("div",{staticClass:"p10"},t._l(t.catalogList,function(e){return a("li",{staticClass:"chapter-li",on:{click:function(a){t.chapterMatter(e)}}},[a("span",{class:{"text-danger":e.isVip}},[t._v(t._s(e.title))])])})),t._v(" "),a("div",{staticStyle:{clear:"both"}})]),t._v(" "),a("el-dialog",{staticClass:"dialogForm",attrs:{title:"更换小说源",visible:t.dialogSources,width:"480px"},on:{"update:visible":function(e){t.dialogSources=e},close:function(e){t.dialogSources=!1}}},[a("el-form",{ref:"formSources",attrs:{model:t.formSources,"label-width":"80px",size:"small"}},[a("el-form-item",{attrs:{label:"小说源",prop:"sources"}},t._l(t.sourcesData,function(e){return a("el-radio-group",{key:e.id,on:{change:function(a){t.changeSources(e)}},model:{value:t.formSources.sources,callback:function(e){t.$set(t.formSources,"sources",e)},expression:"formSources.sources"}},[a("el-radio",{attrs:{label:e.name}})],1)})),t._v(" "),a("el-form-item",{attrs:{label:"最新章节"}},[a("el-input",{attrs:{disabled:""},model:{value:t.formSources.lastChapter,callback:function(e){t.$set(t.formSources,"lastChapter",e)},expression:"formSources.lastChapter"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"注意事项"}},[a("span",[t._v("不同的小说源的章节可能会不一样，选择其他的小说源后需要重新选择章节阅读！")])])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogSources=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.dialogSources=!1,t.affirmSources("formSources")}}},[t._v("确 定\n            ")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"catalog-p"},[this._v("目录"),e("span",{staticClass:"text-danger"},[this._v("（红色字体的为VIP章节）")])])}]};var ht=a("VU/8")(ct,ut,!1,function(t){a("fcAy")},"data-v-00497a49",null).exports,dt={data:function(){return{bookId:"",bookTitle:"",bookData:[],mybookData:[],chaptersData:[],chapterIndex:0,imagesData:[]}},methods:rt()({},Object(lt.b)(["setBookShelf"]),{getBookSources:function(){var t=this,e=this.$store.state.bookShelf;this.bookId=this.$route.params.bookId,this.mybookData=e.filter(function(e){return e.id===t.$route.params.bookId}),this.bookTitle=this.mybookData[0].title;var a=this.mybookData[0].sourceId;y(a).then(function(e){t.chaptersData=e.chapters,""==t.mybookData[0].readlink&&(t.mybookData[0].readlink=e.chapters[0].link);var a=t.mybookData[0].readlink;C(a).then(function(e){1==e.ok&&(t.bookData=e.chapter,t.bookData.isVip&&t.$alert("该章节为正版源，请换源后重试","警告",{confirmButtonText:"确定",type:"warning",callback:function(){t.$router.push("/bookinfo/"+t.bookId)}}),e.chapter.images&&(t.imagesData=e.chapter.images.split(",")))}),t.chapterIndex=t.chaptersData.findIndex(function(e){return e.link===t.mybookData[0].readlink})})},nextChapter:function(){var t=this,e=this.$store.state.bookShelf;if(this.chapterIndex>=this.chaptersData.length-1)this.$message({message:"这已经是最新的章节了哦~",type:"warning",duration:1e3});else{var a=this.chaptersData[this.chapterIndex+=1].link;C(a).then(function(o){1==o.ok&&(t.bookData=o.chapter,document.body.scrollTop=0,document.documentElement.scrollTop=0,t.bookData.isVip&&t.$alert("该章节为正版源，请换源后重试","警告",{confirmButtonText:"确定",type:"warning",callback:function(){t.$router.push("/bookinfo/"+t.bookId)}}),o.chapter.images&&(t.imagesData=o.chapter.images.split(",")),"-1"!=e.findIndex(function(e){return e.id===t.$route.params.bookId})&&(e[e.findIndex(function(e){return e.id===t.$route.params.bookId})].readlink=a,e[e.findIndex(function(e){return e.id===t.$route.params.bookId})].readtitle=t.bookData.title,t.setBookShelf(e)))})}},backChapter:function(){var t=this,e=this.$store.state.bookShelf;if(this.chapterIndex<1)this.$message({message:"这已经是第一章节了哦~",type:"warning",duration:1e3});else{var a=this.chaptersData[this.chapterIndex-=1].link;C(a).then(function(o){1==o.ok&&(t.bookData=o.chapter,document.body.scrollTop=0,document.documentElement.scrollTop=0,t.bookData.isVip&&t.$alert("该章节为正版源，请换源后重试","警告",{confirmButtonText:"确定",type:"warning",callback:function(){t.$router.push("/bookinfo/"+t.bookId)}}),o.chapter.images&&(t.imagesData=o.chapter.images.split(",")),"-1"!=e.findIndex(function(e){return e.id===t.$route.params.bookId})&&(e[e.findIndex(function(e){return e.id===t.$route.params.bookId})].readlink=a,e[e.findIndex(function(e){return e.id===t.$route.params.bookId})].readtitle=t.bookData.title,t.setBookShelf(e)))})}},backBookinfo:function(){this.$router.push("/bookinfo/"+this.bookId)}}),mounted:function(){this.getBookSources()}},ft={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content chapter"},[a("el-breadcrumb",{staticClass:"breadcrumbs",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/bookinfo/"+t.bookId}}},[t._v(t._s(t.bookTitle))]),t._v(" "),a("el-breadcrumb-item",[t._v(t._s(t.bookData.title))])],1),t._v(" "),a("el-button-group",{staticClass:"float-right"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left",size:"small"},on:{click:function(e){t.backChapter()}}},[t._v("上一章")]),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-tickets",size:"small"},on:{click:function(e){t.backBookinfo()}}},[t._v("章节列表")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.nextChapter()}}},[t._v("下一章"),a("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1),t._v(" "),a("p",{staticClass:"clear-both bb"},[t._v(t._s(t.bookData.title))]),t._v(" "),0==t.imagesData.length?a("pre",[t._v("        "+t._s(t.bookData.cpContent||t.bookData.body)+"\n    ")]):t._e(),t._v(" "),t.imagesData.length>0?a("div",t._l(t.imagesData,function(t){return a("p",[a("img",{attrs:{src:t,width:"100%"}})])})):t._e(),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left",size:"small"},on:{click:function(e){t.backChapter()}}},[t._v("上一章")]),t._v(" "),a("el-button",{staticClass:"float-right",attrs:{type:"primary",size:"small"},on:{click:function(e){t.nextChapter()}}},[t._v("下一章"),a("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1)},staticRenderFns:[]};var pt=a("VU/8")(dt,ft,!1,function(t){a("fHe4")},"data-v-311649be",null).exports,vt={data:function(){return{bookShelfs:[]}},methods:rt()({},Object(lt.b)(["setBookShelf"]),{getBookinfo:function(t){this.$router.push("/bookinfo/"+t.id)},delBooks:function(t){var e=this.bookShelfs.findIndex(function(e){return e.id===t.id});this.bookShelfs.splice(e,1),this.setBookShelf(this.bookShelfs)}}),mounted:function(){this.bookShelfs=this.$store.state.bookShelf}},mt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-container",{staticClass:"content"},[o("el-row",{staticStyle:{width:"100%"}},[o("p",{staticClass:"shelf-info"},[t._v("我的书架共有 "),o("span",[t._v(t._s(t.bookShelfs.length))]),t._v(" 本在看的书籍：")]),t._v(" "),t._l(t.bookShelfs,function(e){return o("el-col",{key:e.id,staticClass:"booklist",attrs:{span:12}},[o("div",{staticClass:"book-left"},[o("img",{staticClass:"img cursor",attrs:{src:"http://statics.zhuishushenqi.com"+e.cover,alt:e.title},on:{click:function(a){t.getBookinfo(e)}}}),t._v(" "),o("div",{staticClass:"right"},[o("p",{staticClass:"name cursor",on:{click:function(a){t.getBookinfo(e)}}},[t._v(t._s(e.title))]),t._v(" "),o("p",{staticClass:"info"},[t._v("作者："+t._s(e.author))]),t._v(" "),o("p",{staticClass:"info"},[t._v("小说来源："+t._s(e.readsource))]),t._v(" "),o("p",{staticClass:"info"},[t._v("上次阅读："+t._s(e.readtitle))]),t._v(" "),o("p",{staticClass:"info"},[t._v("最新章节："+t._s(e.lastChapter))])])]),t._v(" "),o("div",{staticClass:"book-right mt30"},[o("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.delBooks(e)}}},[t._v("移出书架")])],1)])}),t._v(" "),0==t.bookShelfs.length?o("div",[o("img",{attrs:{src:a("eUv4"),width:"60%"}})]):t._e()],2)],1)},staticRenderFns:[]};var kt=a("VU/8")(vt,mt,!1,function(t){a("JVN8")},"data-v-515663fe",null).exports,_t={data:function(){return{query:"",searchData:[]}},methods:{getSearchlist:function(){var t,e=this,a={query:this.query};(t=a,m.a.get("/api/book/fuzzy-search",{params:t}).then(function(t){return t.data})).then(function(t){1==t.ok&&(e.searchData=t.books)})},getBookinfo:function(t){this.$router.push("/bookinfo/"+t._id)}},watch:{$route:function(){this.query=this.$route.query.val,this.getSearchlist()}},mounted:function(){this.query=this.$route.query.val,this.getSearchlist()}},gt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"content"},[a("el-row",[a("p",{staticClass:"search-info"},[t._v("与 "),a("span",[t._v(t._s(t.query))]),t._v(" 相关的搜索结果：")]),t._v(" "),t._l(t.searchData,function(e){return a("el-col",{key:e.id,staticClass:"booklist",attrs:{span:8}},[a("div",[a("img",{staticClass:"img cursor",attrs:{src:"http://statics.zhuishushenqi.com"+e.cover,alt:e.title},on:{click:function(a){t.getBookinfo(e)}}}),t._v(" "),a("div",{staticClass:"right"},[a("p",{staticClass:"name cursor",on:{click:function(a){t.getBookinfo(e)}}},[t._v(t._s(e.title))]),t._v(" "),a("p",{staticClass:"author"},[t._v(t._s(e.author+" | "+e.cat))]),t._v(" "),a("p",{staticClass:"desc"},[t._v(t._s(e.shortIntro))]),t._v(" "),a("p",{staticClass:"popularity"},[a("span",{staticStyle:{color:"#d82626"}},[t._v(t._s(e.latelyFollower))]),t._v("人气 |\n                        "),a("span",{staticStyle:{color:"#d82626"}},[t._v(t._s(e.retentionRatio))]),t._v("读者存留\n                    ")])])])])})],2)],1)},staticRenderFns:[]};var bt=a("VU/8")(_t,gt,!1,function(t){a("ItLs")},"data-v-5d5d5e51",null).exports;c.default.use(d.a);var yt=new d.a({routes:[{path:"",redirect:"/index"},{path:"/",component:j,children:[{path:"index",component:w},{path:"category",component:M,children:[{path:"male",component:E},{path:"female",component:N},{path:"press",component:P},{path:"picture",component:H}]},{path:"ranking",component:W,children:[{path:"rmale",component:G},{path:"rfemale",component:Z},{path:"rpress",component:at},{path:"rpicture",component:nt}]},{path:"bookinfo/:bookId",component:ht},{path:"bookchapter/:bookId",component:pt},{path:"bookshelf",component:kt},{path:"search",component:bt}]},{path:"*",redirect:"/index"}],mode:"history"}),Ct=a("zL8q"),Lt=a.n(Ct);c.default.use(lt.a);var xt,It=new lt.a.Store({state:{bookShelf:[]},mutations:{setBookShelf:function(t,e){t.bookShelf=e}}});a("tvR6"),a("MrK1");c.default.use(d.a),c.default.use(Lt.a),c.default.config.productionTip=!1,m.a.interceptors.request.use(function(t){return xt=Ct.Loading.service({text:"拼命加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.8)"}),t},function(t){return l.a.reject(t)}),m.a.interceptors.response.use(function(t){return xt&&xt.close(),t},function(t){return l.a.reject(t)}),new c.default({el:"#app",router:yt,store:It,components:{App:h},template:"<App/>",created:function(){var t=this;localStorage.getItem("bookMsg")&&this.$store.replaceState(s()(this.$store.state,JSON.parse(localStorage.getItem("bookMsg")))),window.addEventListener("beforeunload",function(){localStorage.setItem("bookMsg",i()(t.$store.state))})}})},X9AJ:function(t,e){},XTCv:function(t,e){},bR3e:function(t,e){},eUv4:function(t,e,a){t.exports=a.p+"static/img/null.81a2bfa.jpg"},fHe4:function(t,e){},fcAy:function(t,e){},hcNT:function(t,e){},oILd:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.a1ccb1dafd27ed8369a8.js.map